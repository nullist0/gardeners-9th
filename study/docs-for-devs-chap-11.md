# 문제점

제품은 날이 가면 갈수록 기능이 추가되고 삭제되고 통합된다. 이러한 코드 수정은 문서에 지대한 영향을 줄 수 밖에 없다. 이러한 문서 유지보수를 위한 방법들을 알아보고 정리해보자.

# 유지 관리를 위한 계획 세우기

제품 릴리스에 따라 문서가 변해야한다면 미리부터 일정을 맞추는게 도움이 된다.

> 개발 프로세스 초기에 문서화에 대해 생각해두라.


그렇다면 아래와 같은 장점을 얻을 수 있다.

- 문서화 일정을 고려하여 시간 계획을 짤 수 있다.
- 코드를 업데이트할 때 문서가 상대적으로 뒤처지는 문제를 방지할 수 있다.

## 문서화와 릴리스 방향 맞추기

계획을 수립하였다면 릴리스도 동시에 할 수 있도록 프로세스를 정해두어야 한다. 방법은 여러가지가 존재한다.

- 릴리스에 필요한 각 문서 업데이트에 대한 추적 이슈 또는 버그 티켓을 만들기
- 스프레드 시트로 문서화 니즈를 기능 요청과 함께 추적하기

### 예시: 쿠버네티스

1. 다가오는 릴리스에 대해 제안된 모든 개선 사항을 추적용 스프레드 시트에 나열됨
2. 제안된 각 개선 사항을 깃헙 이슈로 문서화됨: 설계 문서, 기능 담당자, 단위 테스트와 더불어 문서화 필요 여부 평가가 필수 항목에 포함됨
3. 개선 사항이 문서화를 필요로 하는 경우, 기능 담당자는 문서화에 대한 풀리퀘스트를 만들고 개선 사항이 릴리스 승인을 받기 전에 문서화에 대한 승인을 받아야함
4. 개선 사항에 대한 코드, 단위 테스트, 문서화 작업이 모두 승인되면 개선사항이 릴리스 승인을 받음
5. 승인된 모든 개선사항이 릴리스 날짜에 새 릴리스와 함께 코드 저장소에 반영됨

## 문서 담당자 지정하기

문서에 관한 일을 모두가 처리한다고 생각하면 책임이 분배되어 아무도 책임지지 않을 수 있다. 아래의 책임을 갖는 문서 담당자를 지정하자.

- 문서 문제 대응
- 문서 변경 사항 검토
- 필요시 문서를 업데이트

문서가 깃허브 코드와 함께 있더라도 크고 복잡한 문서 세트의 경우 많은 문서들이 맞물려 있어 담당자를 지정하는 것이 좋다.

## 문서 유지 관리 업무 포상하기

담당자를 지정하거나 문서 관련 업무를 하였는데 아무런 보상이 없다면 아무도 하지 않을 것이다. 이를 위해서는

- 문서 유지 관리에 대한 보상 및 인정 시스템 구축
- 문서 유지에 걸리는 시간에 대한 불이익 부여 금지
- 추가 작업이나 보너스 작업이라는 생각보단 기대 성과와 해야 할 업무로 포함

# 유용한 유지 관리 도구: 자동화 도구

문서를 작성하다보면 실수할 수 있고 잡일이 많을 수 있어 잡일들은 자동화하는 것이 좋다.

> 잡일이란 수동적으로 하며, 반복적이고, 자동화가 가능하고, 전략에 좌우되기보다는 전술적이며, 지속적인 가치를 만들어 내지 못하고, 서비스가 성장함에 따라 선형적으로 늘어나는 작업이다.

## 콘텐츠 최신성 검사

문서 일부는 관리가 되지 않거나 업데이트의 필요가 없어 수정되지 않는 경우가 있다. 하지만 연관된 기능이 변경되어 수정해야함에도 잊고 수정을 하지 않은 경우가 있을 수 있다. 콘텐츠 최신성 검사 도구는 아래와 같은 잡일을 수행해준다.

- 마지막 수정 날짜 보존
- 마지막 수정 날짜를 기반으로 최신성 알림을 전송

## 링크 검사기

하이퍼링크로 걸어둔 내용들은 제목이 바뀌거나 위치가 바뀌는 등의 방법으로 링크가 변경될 수 있다. 링크 검사기는 아래와 같은 잡일을 수행해준다.

- 릴리스나 변경마다 역링크들이 유효한지 검사
    - 배포 전에 할 경우: CI/CD 툴 체인의 일부로 실행
    - 배포 후에 할 경우: 문서를 크롤링하여 실행

## 린터

사람이 작성하는 문서에는 오타나 맞춤법 오류가 존재할 수 있다. 그래서 출판시에는 꽤나 장기간의 교정작업이 이뤄지기 마련인데, 문서 린터는 오타나 맞춤법 오류를 찾고 표시하고 수정 방안을 제안해주는 잡일을 해준다.

더 나아가 문서 린터 중에는 문장 감정을 분석하여 더 완만한 문장으로 바꾸도록 유도해주기도 한다.

## 참조 문서 생성기

참조 문서를 다는 것은 중요하지만, 작성중에 참조란에 이동하여 참조 링크를 하나하나 추가하는 것은 매우 고된 작업이다. 참조 문서 생성기는 문서내에 있는 참조 링크를 생성해주는 잡일을 해준다.

예를 들어 class의 명세 문서에서 해당 클래스가 참조하고 있는 다른 클래스에 대한 링크를 일일이 달아주는 것은 귀찮다. java doc이나 js doc과 같은 문서 도구를 사용하면 주석에 포함된 참조를 자동으로 문서화 할 수 있다.

# 더 이상 필요하지 않은 콘텐츠 지원 중단 및 제거하기

---

콘텐츠는 계속해서 추가되고 삭제되어 간다. 사용자가 사용하고 있는 제품이므로 사용자에게 이러한 기능 변경이나 삭제 사실을 알리고 콘텐츠를 수정하는 것이 좋다.

## 문서 지원 중단하기

개발에서 API에 대한 중단은 보통 아래와 같은 과정으로 이루어진다.

1. 새 API 개발
2. 기존 API를 deprecate
3. 기존 API의 삭제 버전을 명시
4. 기존 API 삭제

문서도 이와 동일하다. 문서도 새로운 문서로 교체하기 전에

- 언제 이 문서가 불필요해져서 삭제될지
- 삭제될 문서에 해당하는 새 문서가 무엇인지

고지해주어야 한다. 또한 마이스레이션 가이드를 제공해주는 것이 중요한데, 해당 변경사항에 대한 간단한 변경책을 알려주어야 사용자가 제품 이용에 불편함이 없기 때문이다.

결과적으로 문서 지원 중단 순서는 아래와 같다.

1. 새 문서를 작성
2. 중대한 기능 변경시 마이그레이션 절차 문서를 작성
3. 문서 지원 중단에 대한 표기 추가
4. 기존 문서의 지원 중단 일정 추가
5. 추가로 릴리스 문서에 지원 중단 기능에 대한 명시
6. 릴리스 후 문서 지원 중단

## 문서 삭제하기

아래 상황에서 문서 삭제를 고려할 수 있다.

- 모든 사용자가 성공적으로 마이그레이션 하여 불필요한 문서가 된 경우
- 문서가 너무 오래되었거나 사용자와 관련이 없어진 경우
- 문서를 관리하는데에 아무런 가치가 없는 경우
- 사용자 피드백과 문서 분석에서 조회수가 매우 적으면서 부정적 피드백이 많은 경우

불필요해진 기능이 삭제되는 것이므로 아래와 같은 절차가 필요하다.

1. 사용자에게 적절한 통보를 하기
2. 제품 릴리스 공지 또는 릴리스 노트에 문서화 하기
3. 삭제하려는 문서의 링크를 모두 최신화하기

문서를 삭제하는 것을 통해 사용자가 원하는 필요한 문서만 볼 수 있어 혼란을 줄여줄 수 있다.

# 요약

- 유지 관리를 염두에 두고 코드 개발과 문서화 계획을 함께 세워라
- 문서 릴리스와 기능 릴리스의 방향을 맞춰라
- 문서에 담당자를 할당하라
- 콘텐츠 최신성 검사, 링크 검사기, 문서 린터, 참조 문서 생성기를 사용하여 잡일을 자동화 하라